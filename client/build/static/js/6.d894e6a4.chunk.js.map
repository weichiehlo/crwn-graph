{"version":3,"sources":["components/form-input/form-input.styles.jsx","components/form-input/form-input.component.jsx","components/custom-button/custom-button.styles.jsx","components/custom-button/custom-button.component.jsx","utils/graph.utils.js","redux/graph/graph.actions.js","utils/inputs.utils.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/rc-checkbox/es/index.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","components/coordinate-info/coordinate-info.styles.jsx","components/coordinate-info/coordinate-info.component.jsx","components/composed-chart/composed-chart.styles.jsx","components/composed-chart/composed-chart.component.jsx","pages/composedchartpage/composedchartpage.styles.jsx","pages/composedchartpage/composedchartpage.component.jsx"],"names":["shrinkLabelStyles","css","GroupContainer","styled","div","FormSelectContainer","Select","FormInputContainer","input","FormInputLabel","label","FormSelectLabel","FormInput","handleChange","props","onChange","className","value","length","FormSelect","buttonStyles","invertedButtonStyles","googleSignInStyles","CustomButtonContainer","button","isGoogleSignIn","inverted","CustomButton","children","calculatePoint","i","intervalSize","colorRangeInfo","colorStart","colorEnd","useEndAsStart","getChartColor","data","colorArray","dataLength","colorScale","colorPoint","push","interpolateColors","d3","colorMapping","id","name","color","convertGraphDataForComposed","percision","currentRange","maxRange","interval","graphingData","totalReading","digit","serialNumber","sensorTotalCount","average","table","map","el","sort","a","b","temp","dif","reading","parseFloat","toFixed","reduce","point","processeData","convertGraphDataForPie","sensorList","Object","keys","filter","pieGraphingData","sensor","convertGraphDataForVersus","processedData","xReading","X_reading","yReading","Y_reading","xCurrentRange","xMaxRange","yCurrentRange","yMaxRange","xInterval","yInterval","xDigit","yDigit","xRange","yRange","tempArray","j","tempCount","entry","total","val","compareUnit","sensors","units","slice","lastIndexOf","setUserGraph","graph","type","GraphActionTypes","SET_USER_GRAPH","payload","formatDate","d","month","getMonth","day","getDate","year","getFullYear","join","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_defineProperties","descriptor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","_typeof","Symbol","iterator","constructor","prototype","_possibleConstructorReturn","self","call","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","result","Super","NewTarget","this","Checkbox","_Component","subClass","superClass","TypeError","create","_inherits","Constructor","protoProps","staticProps","_super","_this","instance","_classCallCheck","_this$props","disabled","setState","checked","_objectSpread","stopPropagation","preventDefault","nativeEvent","saveInput","node","defaultChecked","state","focus","blur","_classNames","_this$props2","prefixCls","style","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","required","others","excluded","objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","_objectWithoutProperties","globalProps","prev","substr","classString","classNames","concat","React","createElement","_extends","ref","Component","defaultProps","ScrollContainer","CoordinateInfoContainer","InfoContainer","Info","span","CoordinateInfo","title","model","split","range","ComposedChartContainer","Title","h1","RevealContainer","AverageContainer","ChartRevealContainer","ChartSNContainer","ChartInfoContainer","Average","ComposedChartComponent","sensorNames","useState","displaySN","setdisplaySN","width","height","margin","top","right","bottom","left","stroke","dataKey","fill","unit","event","Set","find","Fragment","FormContainer","form","ComposedChartPageContainer","Warning","Description","mapStateToProps","createStructuredSelector","pg","selectPg","isFetching","selectIsPgFetching","userGraph","selectUserGraph","sql","selectPgSql","connect","dispatch","fetchPgStart","info","testType","lowerSN","upperSN","startDate","endDate","graphInfo","setgraphInfo","useEffect","query","database","composed","graphData","getCurrentUser","user","loadGraphFromFireStore","firebaseGraphs","Array","isArray","element","pie","versus","helper","loadSensorUnits","datname","addDays","days","date","valueOf","setDate","handleSubmit","tableName","testTypeString","all","onSubmit","placeholder","options","isMulti","item","selection","showSelectionPreview","moveRangeOnFirstSelection","months","ranges","direction","raw","selected","serial_number","isSameUnit"],"mappings":"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","file":"static/js/6.d894e6a4.chunk.js","sourcesContent":["import styled, { css } from 'styled-components';\r\nimport Select from 'react-select'\r\n\r\nconst subColor = 'grey';\r\nconst mainColor = 'black';\r\n\r\nconst shrinkLabelStyles = css`\r\n  top: -14px;\r\n  font-size: 12px;\r\n  color: ${mainColor};\r\n`;\r\n\r\nexport const GroupContainer = styled.div`\r\n  position: relative;\r\n  margin: 45px 0 0 0;\r\n\r\n  input[type='password'] {\r\n    letter-spacing: 0.3em;\r\n  }\r\n`;\r\n\r\nexport const FormSelectContainer = styled(Select)`\r\n  background: none;\r\n  background-color: white;\r\n  color: ${subColor};\r\n  font-size: 18px;\r\n  padding: 10px 10px 10px 5px;\r\n  display: block;\r\n  width: 100%;\r\n  border: none;\r\n  border-radius: 0;\r\n  min-width: 200px;\r\n`;\r\n\r\nexport const FormInputContainer = styled.input`\r\n  background: none;\r\n  background-color: white;\r\n  color: ${subColor};\r\n  font-size: 18px;\r\n  padding: 10px 10px 10px 5px;\r\n  display: block;\r\n  width: 100%;\r\n  border: none;\r\n  border-radius: 0;\r\n  border-bottom: 1px solid ${subColor};\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n\r\n  &:focus ~ label {\r\n    ${shrinkLabelStyles}\r\n  }\r\n`;\r\n\r\nexport const FormInputLabel = styled.label`\r\n  color: ${subColor};\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  position: absolute;\r\n  pointer-events: none;\r\n  left: 5px;\r\n  top: 10px;\r\n  transition: 300ms ease all;\r\n\r\n  &.shrink {\r\n    ${shrinkLabelStyles}\r\n  }\r\n`;\r\n\r\nexport const FormSelectLabel = styled.label`\r\n  color: ${subColor};\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  pointer-events: none;\r\n  left: 5px;\r\n  top: 10px;\r\n  transition: 300ms ease all;\r\n\r\n`;\r\n\r\n","import React from 'react';\r\n\r\nimport {\r\n  GroupContainer,\r\n  FormInputContainer,\r\n  FormInputLabel,\r\n  FormSelectContainer,\r\n  FormSelectLabel\r\n} from './form-input.styles';\r\n\r\nexport const FormInput = ({ handleChange, label, ...props }) => (\r\n  <GroupContainer>\r\n    <FormInputContainer onChange={handleChange} {...props} />\r\n    {label ? (\r\n      <FormInputLabel className={props.value.length ? 'shrink' : ''}>\r\n        {label}\r\n      </FormInputLabel>\r\n    ) : null}\r\n  </GroupContainer>\r\n);\r\n\r\nexport const FormSelect = ({ handleChange, label, ...props }) => (\r\n  <GroupContainer>\r\n    {label ? (\r\n      <FormSelectLabel>\r\n        {label}\r\n      </FormSelectLabel>\r\n    ) : null}\r\n    <FormSelectContainer onChange={handleChange} {...props} />\r\n  </GroupContainer>\r\n);\r\n\r\n\r\n\r\n","import styled, { css } from 'styled-components';\r\n\r\nconst buttonStyles = css`\r\n  background-color: black;\r\n  color: white;\r\n  border: none;\r\n\r\n  &:hover {\r\n    background-color: white;\r\n    color: black;\r\n    border: 1px solid black;\r\n  }\r\n`;\r\n\r\nconst invertedButtonStyles = css`\r\n  background-color: white;\r\n  color: black;\r\n  border: 1px solid black;\r\n\r\n  &:hover {\r\n    background-color: black;\r\n    color: white;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nconst googleSignInStyles = css`\r\n  background-color: #4285f4;\r\n  color: white;\r\n\r\n  &:hover {\r\n    background-color: #357ae8;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nconst getButtonStyles = props => {\r\n  if (props.isGoogleSignIn) {\r\n    return googleSignInStyles;\r\n  }\r\n\r\n  return props.inverted ? invertedButtonStyles : buttonStyles;\r\n};\r\n\r\nexport const CustomButtonContainer = styled.button`\r\n  min-width: 165px;\r\n  width: auto;\r\n  height: 50px;\r\n  letter-spacing: 0.5px;\r\n  line-height: 50px;\r\n  padding: 0 35px 0 35px;\r\n  font-size: 15px;\r\n  text-transform: uppercase;\r\n  font-family: 'Open Sans Condensed';\r\n  font-weight: bolder;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  ${getButtonStyles}\r\n`;\r\n","import React from 'react';\r\n\r\nimport { CustomButtonContainer } from './custom-button.styles';\r\n\r\nconst CustomButton = ({ children, ...props }) => (\r\n  <CustomButtonContainer {...props}>{children}</CustomButtonContainer>\r\n);\r\n\r\nexport default CustomButton;\r\n","import * as d3 from 'd3-scale-chromatic'\r\nconst calculatePoint = (i, intervalSize, colorRangeInfo) =>{\r\n    let { colorStart, colorEnd, useEndAsStart } = colorRangeInfo;\r\n    return (useEndAsStart\r\n      ? (colorEnd - (i * intervalSize))\r\n      : (colorStart + (i * intervalSize)));\r\n  }\r\n\r\nconst interpolateColors = (dataLength, colorScale, colorRangeInfo)=>{\r\n    let { colorStart, colorEnd } = colorRangeInfo;\r\n    let colorRange = colorEnd - colorStart;\r\n    let intervalSize = colorRange / dataLength;\r\n    let i, colorPoint;\r\n    let colorArray = [];\r\n\r\n    for (i = 0; i < dataLength; i++) {\r\n        colorPoint = calculatePoint(i, intervalSize, colorRangeInfo);\r\n        colorArray.push(colorScale(colorPoint));\r\n    }\r\n\r\n    return colorArray;\r\n}  \r\n\r\nexport const getChartColor = (data)=>{\r\n    let colorArray = interpolateColors(data.length,d3.interpolateViridis,{\r\n        colorStart: 0,\r\n        colorEnd: 1,\r\n        useEndAsStart: false,\r\n    });\r\n    let colorMapping = [];\r\n    for(let i=0; i<colorArray.length;i++){\r\n        colorMapping.push({id:i,name:data[i],color:colorArray[i]})\r\n    }\r\n    return colorMapping\r\n}\r\n\r\nexport const convertGraphDataForComposed = (data,percision)=>{\r\n\r\n    let graphingData = [];\r\n    let currentRange, maxRange;\r\n    let totalReading = [];\r\n    let interval;\r\n    let digit = 0;\r\n    let serialNumber = {};\r\n    let sensorTotalCount = {};\r\n    let average = {};\r\n\r\n    for(let table in data){\r\n        totalReading = [...totalReading,...data[table].map(el=>el['reading'])];\r\n        sensorTotalCount[table] = 0\r\n    }\r\n\r\n\r\n    totalReading.sort((a,b)=>a-b)\r\n    \r\n    currentRange = totalReading[0];\r\n    maxRange = totalReading[totalReading.length-1];\r\n\r\n\r\n    //to decode the decimal place\r\n    let temp = 1;\r\n    let dif = maxRange-currentRange;\r\n    for(let i=0; i<5; i++){\r\n        if(temp > dif)\r\n        {\r\n            temp /= 10\r\n            digit++\r\n        }else{\r\n            break\r\n        }\r\n        \r\n    }\r\n    digit++\r\n    \r\n\r\n    interval = parseFloat(parseFloat((totalReading[totalReading.length-1]-totalReading[0])/percision).toFixed(digit));\r\n\r\n    for(let reading in data){\r\n        average[reading] = (data[reading].reduce((a,el)=>a+el.reading,0)/data[reading].length).toFixed(digit)\r\n    }\r\n  \r\n    \r\n\r\n    while(currentRange <= maxRange){\r\n        let temp = {};\r\n        temp['name'] = `${currentRange.toFixed(digit)}-${(currentRange+interval).toFixed(digit)}`\r\n        \r\n        for(let table in data){\r\n            serialNumber[table + \"-\" + temp['name']] = [];\r\n            temp[table] = 0;\r\n            for(let i=0; i<data[table].length;i++){\r\n                if(data[table][i]['reading']>=currentRange && data[table][i]['reading'] <= (currentRange+interval)){\r\n                    serialNumber[table + \"-\" + temp['name']].push(data[table][i]['serial_number']);\r\n                    temp[table]++;\r\n                    sensorTotalCount[table]++\r\n                }\r\n            }\r\n        }\r\n        graphingData.push(temp)\r\n        currentRange += interval\r\n    }\r\n\r\n\r\n    //convert the raw data into percentage\r\n    for(let point of graphingData){\r\n        for(let table in sensorTotalCount){\r\n            point[table] = ((point[table] / sensorTotalCount[table])*100).toFixed(2)\r\n        }\r\n    }\r\n\r\n\r\n    return {processeData:graphingData,serialNumber:serialNumber,average:average}\r\n\r\n}\r\n\r\nexport const convertGraphDataForPie = (data,percision)=>{\r\n\r\n    let graphingData = [];\r\n    let currentRange, maxRange;\r\n    let totalReading = [];\r\n    let interval;\r\n    let digit = 0;\r\n    let serialNumber = {};\r\n    let sensorTotalCount = {};\r\n    let average = {};\r\n\r\n    for(let table in data){\r\n        totalReading = [...totalReading,...data[table].map(el=>el['reading'])];\r\n        sensorTotalCount[table] = 0\r\n    }\r\n\r\n\r\n    totalReading.sort((a,b)=>a-b)\r\n    \r\n    currentRange = totalReading[0];\r\n    maxRange = totalReading[totalReading.length-1];\r\n\r\n\r\n    //to decode the decimal place\r\n    let temp = 1;\r\n    let dif = maxRange-currentRange;\r\n    for(let i=0; i<5; i++){\r\n        if(temp > dif)\r\n        {\r\n            temp /= 10\r\n            digit++\r\n        }else{\r\n            break\r\n        }\r\n        \r\n    }\r\n    digit++\r\n    \r\n\r\n    interval = parseFloat(parseFloat((totalReading[totalReading.length-1]-totalReading[0])/percision).toFixed(digit));\r\n\r\n    for(let reading in data){\r\n        average[reading] = (data[reading].reduce((a,el)=>a+el.reading,0)/data[reading].length).toFixed(digit)\r\n    }\r\n  \r\n    \r\n\r\n    while(currentRange <= maxRange){\r\n        let temp = {};\r\n        temp['name'] = `${currentRange.toFixed(digit)}-${(currentRange+interval).toFixed(digit)}`\r\n        \r\n        for(let table in data){\r\n            serialNumber[table + \"-\" + temp['name']] = [];\r\n            temp[table] = 0;\r\n            for(let i=0; i<data[table].length;i++){\r\n                if(data[table][i]['reading']>=currentRange && data[table][i]['reading'] <= (currentRange+interval)){\r\n                    serialNumber[table + \"-\" + temp['name']].push(data[table][i]['serial_number']);\r\n                    temp[table]++;\r\n                    sensorTotalCount[table]++\r\n                }\r\n            }\r\n        }\r\n        graphingData.push(temp)\r\n        currentRange += interval\r\n    }\r\n\r\n    //convert the data for pie\r\n    const sensorList = Object.keys(graphingData[0]).filter(el=>el !== 'name');\r\n    let pieGraphingData = {};\r\n    for(let sensor of sensorList){\r\n        pieGraphingData[sensor] = []\r\n    }\r\n    for(let interval of graphingData){\r\n        for(let sensor of sensorList){\r\n            pieGraphingData[sensor].push({name:interval['name'], value:interval[sensor]})\r\n        }\r\n    }\r\n\r\n    return {processeData:pieGraphingData,serialNumber:serialNumber,average:average}\r\n\r\n}\r\n\r\nexport const convertGraphDataForVersus = (data,percision)=>{\r\n\r\n   let processedData = {};\r\n\r\n   for(let table in data){\r\n    let xReading = data[table].map(el=>el.X_reading).sort((a,b)=>a-b)\r\n    let yReading = data[table].map(el=>el.Y_reading).sort((a,b)=>a-b)\r\n    let xCurrentRange = xReading[0]\r\n    let xMaxRange = xReading[xReading.length-1]\r\n    let yCurrentRange = yReading[0]\r\n    let yMaxRange = yReading[yReading.length-1]\r\n    let xInterval = (xMaxRange - xCurrentRange)/percision \r\n    let yInterval = (yMaxRange - yCurrentRange)/percision\r\n    let xDigit = 0, yDigit = 0\r\n    let xRange = [], yRange = [] \r\n\r\n    //to decode the decimal place\r\n    let temp = 1;\r\n    let dif = xMaxRange-xCurrentRange;\r\n    for(let i=0; i<5; i++){\r\n        if(temp > dif)\r\n        {\r\n            temp /= 10\r\n            xDigit++\r\n        }else{\r\n            break\r\n        }\r\n        \r\n    }\r\n    xDigit++\r\n\r\n    temp = 1;\r\n    dif = yMaxRange-yCurrentRange;\r\n    for(let i=0; i<5; i++){\r\n        if(temp > dif)\r\n        {\r\n            temp /= 10\r\n            yDigit++\r\n        }else{\r\n            break\r\n        }\r\n        \r\n    }\r\n    yDigit++\r\n\r\n    // console.log(xReading)\r\n    // console.log(xMaxRange)\r\n    // console.log(yReading)\r\n    // console.log(yMaxRange)\r\n\r\n    while(xCurrentRange <= xMaxRange){\r\n        xRange.push(xCurrentRange)\r\n        yRange.push(yCurrentRange)\r\n        xCurrentRange += xInterval\r\n        yCurrentRange += yInterval\r\n    }\r\n    \r\n    // console.log(xRange)\r\n    // console.log(yRange)\r\n\r\n    // processedData[table] = {};\r\n\r\n    // console.log(data[table].length)\r\n    \r\n    let tempArray = [];\r\n    for(let i=0; i<xRange.length-1;i++){\r\n        let temp = {}\r\n        temp['name'] = `${xRange[i].toFixed(xDigit)}-${xRange[i+1].toFixed(xDigit)}`\r\n        for(let j=0; j<yRange.length-1;j++){\r\n            let tempCount = 0;\r\n            for(let entry of data[table]){\r\n                if(entry['X_reading'] >= xRange[i] && entry['X_reading'] < xRange[i+1] && entry['Y_reading'] >= yRange[j] && entry['Y_reading'] < yRange[j+1]){\r\n                    tempCount++\r\n                }\r\n            }\r\n            temp[`${yRange[j].toFixed(yDigit)}-${yRange[j+1].toFixed(yDigit)}`] = tempCount\r\n        }\r\n        // console.log(temp)\r\n        tempArray.push(temp);\r\n        \r\n    }\r\n    processedData[table] = tempArray\r\n\r\n   }\r\n\r\n   //convert to percentage\r\n   for(let table in processedData){\r\n        for(let interval of processedData[table]){\r\n\r\n            let total = Object.keys(interval).filter(el=>el !== 'name').reduce((a,val)=>a+interval[val],0)\r\n            for(let el of Object.keys(interval).filter(el=>el !== 'name')){\r\n                interval[el] = ((interval[el]/total) * 100).toFixed(1)\r\n            }\r\n        }\r\n   }\r\n    \r\n    // console.log('--------')\r\n    // console.log(processedData)\r\n    // console.log('--------')\r\n   return processedData\r\n}\r\n\r\nexport const compareUnit = (sensors)=>{\r\n    \r\n    let units = sensors.map(el=>el.slice(el.lastIndexOf('(')))\r\n    for(let i=1; i<units.length; i++){\r\n        if(units[i-1] !== units[i]){\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n    \r\n}\r\n\r\n\r\n","import GraphActionTypes from './graph.types';\r\n\r\nexport const setUserGraph = graph => ({\r\n  type: GraphActionTypes.SET_USER_GRAPH,\r\n  payload: graph\r\n});\r\n","export const formatDate = (d) =>{\r\n    let month = '' + (d.getMonth() + 1),\r\n    day = '' + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\nif (month.length < 2) \r\n    month = '0' + month;\r\nif (day.length < 2) \r\n    day = '0' + day;\r\n\r\nreturn [year, month, day].join('-');\r\n}\r\n\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nvar Checkbox = /*#__PURE__*/function (_Component) {\n  _inherits(Checkbox, _Component);\n\n  var _super = _createSuper(Checkbox);\n\n  function Checkbox(props) {\n    var _this;\n\n    _classCallCheck(this, Checkbox);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (e) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onChange = _this$props.onChange;\n\n      if (disabled) {\n        return;\n      }\n\n      if (!('checked' in _this.props)) {\n        _this.setState({\n          checked: e.target.checked\n        });\n      }\n\n      if (onChange) {\n        onChange({\n          target: _objectSpread(_objectSpread({}, _this.props), {}, {\n            checked: e.target.checked\n          }),\n          stopPropagation: function stopPropagation() {\n            e.stopPropagation();\n          },\n          preventDefault: function preventDefault() {\n            e.preventDefault();\n          },\n          nativeEvent: e.nativeEvent\n        });\n      }\n    };\n\n    _this.saveInput = function (node) {\n      _this.input = node;\n    };\n\n    var checked = 'checked' in props ? props.checked : props.defaultChecked;\n    _this.state = {\n      checked: checked\n    };\n    return _this;\n  }\n\n  _createClass(Checkbox, [{\n    key: \"focus\",\n    value: function focus() {\n      this.input.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.input.blur();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props2 = this.props,\n          prefixCls = _this$props2.prefixCls,\n          className = _this$props2.className,\n          style = _this$props2.style,\n          name = _this$props2.name,\n          id = _this$props2.id,\n          type = _this$props2.type,\n          disabled = _this$props2.disabled,\n          readOnly = _this$props2.readOnly,\n          tabIndex = _this$props2.tabIndex,\n          onClick = _this$props2.onClick,\n          onFocus = _this$props2.onFocus,\n          onBlur = _this$props2.onBlur,\n          onKeyDown = _this$props2.onKeyDown,\n          onKeyPress = _this$props2.onKeyPress,\n          onKeyUp = _this$props2.onKeyUp,\n          autoFocus = _this$props2.autoFocus,\n          value = _this$props2.value,\n          required = _this$props2.required,\n          others = _objectWithoutProperties(_this$props2, [\"prefixCls\", \"className\", \"style\", \"name\", \"id\", \"type\", \"disabled\", \"readOnly\", \"tabIndex\", \"onClick\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"onKeyPress\", \"onKeyUp\", \"autoFocus\", \"value\", \"required\"]);\n\n      var globalProps = Object.keys(others).reduce(function (prev, key) {\n        if (key.substr(0, 5) === 'aria-' || key.substr(0, 5) === 'data-' || key === 'role') {\n          // eslint-disable-next-line no-param-reassign\n          prev[key] = others[key];\n        }\n\n        return prev;\n      }, {});\n      var checked = this.state.checked;\n      var classString = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classString,\n        style: style\n      }, /*#__PURE__*/React.createElement(\"input\", _extends({\n        name: name,\n        id: id,\n        type: type,\n        required: required,\n        readOnly: readOnly,\n        disabled: disabled,\n        tabIndex: tabIndex,\n        className: \"\".concat(prefixCls, \"-input\"),\n        checked: !!checked,\n        onClick: onClick,\n        onFocus: onFocus,\n        onBlur: onBlur,\n        onKeyUp: onKeyUp,\n        onKeyDown: onKeyDown,\n        onKeyPress: onKeyPress,\n        onChange: this.handleChange,\n        autoFocus: autoFocus,\n        ref: this.saveInput,\n        value: value\n      }, globalProps)), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-inner\")\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if ('checked' in props) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          checked: props.checked\n        });\n      }\n\n      return null;\n    }\n  }]);\n\n  return Checkbox;\n}(Component);\n\nCheckbox.defaultProps = {\n  prefixCls: 'rc-checkbox',\n  className: '',\n  style: {},\n  type: 'checkbox',\n  defaultChecked: false,\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onChange: function onChange() {},\n  onKeyDown: function onKeyDown() {},\n  onKeyPress: function onKeyPress() {},\n  onKeyUp: function onKeyUp() {}\n};\nexport default Checkbox;","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import styled from 'styled-components';\r\n\r\nexport const ScrollContainer = styled.div`\r\n  overflow-y: scroll;\r\n  border: 1px solid black;\r\n  height: 100px;\r\n`;\r\n\r\nexport const CoordinateInfoContainer = styled.div`\r\n display: flex;\r\n flex-direction: column;\r\n border-left: solid grey 3px;\r\n padding:20px;\r\n`;\r\n\r\nexport const InfoContainer = styled.div`\r\n display:flex;\r\n flex-direction:column;\r\n justify-content:center;\r\n align-items:center;\r\n`\r\n\r\nexport const Info = styled.span`\r\n color:${props=>props.color};\r\n`\r\n","import React from 'react';\r\nimport {\r\n  ScrollContainer,\r\n  CoordinateInfoContainer,\r\n  InfoContainer,\r\n  Info\r\n} from './coordinate-info.styles';\r\n\r\nconst CoordinateInfo = ({ title, serialNumber, color}) => {\r\n\r\n\r\n  title = title.split('-');\r\n  let model = title[0],\r\n      sensor = title.slice(1,title.length-2).join('-'),\r\n      range = title[title.length-2]+\"-\"+title[title.length-1]\r\n\r\n  // to delete the unit from the table\r\n  sensor = sensor.slice(0,sensor.indexOf('('))\r\n\r\n  return(\r\n  <CoordinateInfoContainer>\r\n    <InfoContainer>\r\n      <Info color={color}>{model}</Info>\r\n      <Info color={color}>{sensor}</Info>\r\n      <Info color={color}>{range}</Info>\r\n    </InfoContainer>\r\n    <ScrollContainer>\r\n        {\r\n          serialNumber.map((el,id)=>(\r\n            <div key = {id}>{el}</div>\r\n          ))\r\n        }\r\n    </ScrollContainer>\r\n  </CoordinateInfoContainer>)\r\n  };\r\n\r\n\r\nexport default CoordinateInfo\r\n","import styled from 'styled-components';\r\n\r\nexport const ComposedChartContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 10px 20px;\r\n  align-items:center;\r\n  border-radius: 25px;\r\n`;\r\n\r\n\r\nexport const Title = styled.h1`\r\n  color: black;\r\n  padding: 1px 15px;\r\n  border-bottom: 5px solid red;\r\n  width: 100%;\r\n  margin-bottom: 50px;\r\n`;\r\n\r\n\r\nexport const RevealContainer = styled.div`\r\n display: flex;\r\n flex-direction: row;\r\n`;\r\n\r\nexport const AverageContainer = styled.div`\r\n display: flex;\r\n flex-direction: row;\r\n gap: 30px;\r\n margin-bottom: 30px;\r\n`;\r\n\r\nexport const ChartRevealContainer = styled.div`\r\n display: flex;\r\n flex-direction: column;\r\n justify-content: center;\r\n align-items: center;\r\n`;\r\n\r\nexport const ChartSNContainer = styled.div`\r\n display: flex;\r\n flex-direction: row;\r\n align-items: center;\r\n justify-content: center;\r\n gap: 50px;\r\n`;\r\n\r\nexport const ChartInfoContainer = styled.div`\r\n display: flex;\r\n flex-direction: row;\r\n gap: 12px;\r\n padding: 20px;\r\n overflow-x: scroll;\r\n width: 40%;\r\n`;\r\n\r\nexport const Average = styled.span`\r\n color:${props=>props.color};\r\n`\r\n\r\n\r\n\r\n","import React, {useState} from 'react'\r\nimport { Area, Bar, ComposedChart, Line, CartesianGrid, XAxis, YAxis,Tooltip,Legend,Scatter, ReferenceLine  } from 'recharts';\r\nimport { ComposedChartContainer, Title, RevealContainer,ChartSNContainer, ChartRevealContainer, ChartInfoContainer, AverageContainer, Average} from './composed-chart.styles'\r\nimport { getChartColor } from '../../utils/graph.utils'\r\nimport  CoordinateInfo  from '../coordinate-info/coordinate-info.component'\r\nimport Checkbox from 'rc-checkbox';\r\n\r\n\r\nconst ComposedChartComponent = function(props){\r\n\r\n    let {data,serialNumber,average,type} = props\r\n    //get sensor name\r\n    const sensorNames = Object.keys(data[0]).filter((el)=>el !=='name')\r\n    const graphingData = (getChartColor(sensorNames))\r\n    const [displaySN, setdisplaySN] = useState(false);\r\n  \r\n    \r\n\r\n    // to eliminate the empty serial number list\r\n    for(let point in serialNumber){\r\n        if(serialNumber[point].length === 0){\r\n            delete serialNumber[point]\r\n        }\r\n    }\r\n\r\n    return(\r\n        <ComposedChartContainer>\r\n\r\n            <Title>{type} Chart</Title>\r\n            <ChartSNContainer>\r\n                <ChartRevealContainer>\r\n                    <ComposedChart\r\n                    width={1100}\r\n                    height={400}\r\n                    data={data}\r\n                    margin={{\r\n                        top: 20, right: 20, bottom: 20, left: 20,\r\n                    }}\r\n                    >\r\n                    <CartesianGrid stroke=\"#f5f5f5\" />\r\n                    <XAxis dataKey=\"name\" />\r\n                    <YAxis />\r\n                    <Tooltip/>\r\n                    <Legend />\r\n                    {\r\n                        graphingData.map((entry)=>{\r\n                            switch(type){\r\n                                case 'Area':\r\n                                    return (<Area key={entry.id} type=\"monotone\" dataKey={entry.name} fill={entry.color}  stroke={entry.color} unit=\"%\"/>)\r\n                                case 'Bar':\r\n                                    return (<Bar key={entry.id} type=\"monotone\" dataKey={entry.name} fill={entry.color}  stroke={entry.color} unit=\"%\"/>)\r\n                                case 'Line': \r\n                                    return (<Line key={entry.id} type=\"monotone\" dataKey={entry.name} fill={entry.color}  stroke={entry.color} unit=\"%\"/>)\r\n                                case 'Scatter':\r\n                                    return (<Scatter key={entry.id} type=\"monotone\" dataKey={entry.name} fill={entry.color}  stroke={entry.color} unit=\"%\"/>)\r\n                                default:\r\n                                    return (<div/>)\r\n                            }\r\n                        })\r\n                        \r\n                    }\r\n                    </ComposedChart>\r\n\r\n                    <AverageContainer>\r\n                        {\r\n                            graphingData.map((entry)=>{\r\n                                return<Average color= {entry.color} key={entry.id}> {entry.name.slice(0,entry.name.indexOf('('))} Average: {average[entry.name]} {entry.name.split(' ')[entry.name.split(' ').length-1]}</Average>\r\n                                \r\n                            })\r\n                            \r\n                        }\r\n                    </AverageContainer>\r\n                    <RevealContainer>\r\n                        <span>Reveal SN</span>\r\n                        <Checkbox\r\n                            onChange={(event)=>setdisplaySN(event.target.checked)}\r\n                        />\r\n                    </RevealContainer>\r\n                </ChartRevealContainer>\r\n\r\n                {\r\n                    displaySN?\r\n                    <ChartInfoContainer>\r\n                        {\r\n                            Object.keys(serialNumber).map((el,id)=>(\r\n                                <CoordinateInfo key={id} title ={el} serialNumber={[...new Set(serialNumber[el])] } color={graphingData.find(sensor=>sensor.name === el.split('-').slice(0,el.split('-').length-2).join('-'))['color']}/>\r\n                            ))\r\n                        }\r\n                    </ChartInfoContainer>\r\n                    :\r\n                    <React.Fragment/>\r\n    \r\n                }\r\n            </ChartSNContainer>\r\n        </ComposedChartContainer>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default ComposedChartComponent","import styled from 'styled-components';\r\n\r\nexport const FormContainer = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 10px 20px;\r\n  align-items:center;\r\n  border-radius: 25px;\r\n  gap: 12px;\r\n`;\r\n\r\nexport const ComposedChartPageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const Warning = styled.div`\r\n  color: red;\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  color:gray;\r\n  font-size:50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items:center;\r\n`;\r\n\r\nexport const Description = styled.p`\r\n  color:gray;\r\n  font-size:35px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 10px 20px;\r\n  align-items:center;\r\n  border-radius: 25px;\r\n  gap: 12px;\r\n`;\r\n\r\n\r\n\r\n","import React, {useState,useEffect} from 'react';\r\nimport ComposedChartComponent from '../../components/composed-chart/composed-chart.component'\r\nimport { FormContainer, ComposedChartPageContainer, Warning, Description, Title} from './composedchartpage.styles'\r\nimport { FormInput, FormSelect} from '../../components/form-input/form-input.component';\r\nimport CustomButton from '../../components/custom-button/custom-button.component';\r\nimport { fetchPgStart } from '../../redux/pg/pg.actions'\r\nimport { setUserGraph } from '../../redux/graph/graph.actions'\r\nimport { selectPg, selectIsPgFetching, selectPgSql } from '../../redux/pg/pg.selectors';\r\nimport { selectUserGraph } from '../../redux/graph/graph.selectors'\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport Spinner from '../../components/spinner/spinner.component';\r\n\r\nimport 'react-date-range/dist/styles.css'; // main style file\r\nimport 'react-date-range/dist/theme/default.css'; // theme css file\r\nimport { DateRangePicker  } from 'react-date-range';\r\nimport { formatDate } from '../../utils/inputs.utils'\r\nimport { convertGraphDataForComposed, compareUnit } from '../../utils/graph.utils'\r\nimport { getCurrentUser,loadGraphFromFireStore } from '../../firebase/firebase.utils'\r\n\r\n\r\n\r\n\r\nconst ComposedChartPage = ({fetchPgStart,pg,isFetching,setUserGraph, userGraph, selectPgSql}) => {\r\n\r\n    const graphType = ['Area', 'Bar', 'Line', 'Scatter'];\r\n\r\n    const initialState = {\r\n      model: '',\r\n      table: '',\r\n      testType: [],\r\n      lowerSN: '',\r\n      upperSN: '',\r\n      range:[{\r\n        startDate: '',\r\n        endDate: '',\r\n        key: 'selection'\r\n      }]\r\n    }\r\n    \r\n    const [graphInfo, setgraphInfo] = useState(initialState);\r\n\r\n\r\n  useEffect(() => {\r\n    const helper = async()=>{\r\n       //fetch the name of the databases\r\n       await fetchPgStart({title:'databaseModel', query:`SELECT datname FROM pg_database WHERE datname != 'template1' AND datname != 'template0' AND datname != 'postgres'`, database: ''})\r\n       //load graph\r\n       if(!Object.keys(userGraph.composed.graphData).length)\r\n      {\r\n        const user = await getCurrentUser();\r\n        const firebaseGraphs = await loadGraphFromFireStore(user)\r\n    \r\n        if(firebaseGraphs && !Array.isArray(firebaseGraphs)){\r\n          for(let element in firebaseGraphs.sql){\r\n            await fetchPgStart({title: firebaseGraphs.sql[element].title, query: firebaseGraphs.sql[element].query, database: firebaseGraphs.sql[element].database})\r\n          }\r\n\r\n          setUserGraph({\r\n            composed: firebaseGraphs.composed,\r\n            pie: userGraph.pie,\r\n            versus: userGraph.versus\r\n          })\r\n        }\r\n      }\r\n    }\r\n    helper();\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    const loadSensorUnits = async()=>{\r\n     \r\n          for(let model of pg['databaseModel'].map(el=>el.datname).filter(el=>el.length===6)){\r\n            await fetchPgStart({title:`${model}_databaseSensor`, query:`SELECT * FROM \"sensor_to_unit\"`, database: model})\r\n          }\r\n    }\r\n    if(pg['databaseModel']) loadSensorUnits();\r\n     \r\n  }, [pg['databaseModel']]);\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    let info = {};\r\n    if(graphInfo['table'])\r\n    {\r\n      if(pg['databaseTestType']){\r\n        info = {...info, 'testType': pg['databaseTestType'].map((el)=>el['test_type'])}\r\n      }\r\n      if(pg['databaseMinSN']){\r\n        info = {...info, 'lowerSN': pg['databaseMinSN'][0]['min']}\r\n      }\r\n      if(pg['databaseMaxSN']){\r\n        info = {...info, 'upperSN': pg['databaseMaxSN'][0]['max']}\r\n      }\r\n      if(pg['databaseMinDate']){\r\n        let temp = graphInfo['range'];\r\n        temp[0]['startDate'] = new Date(pg['databaseMinDate'][0]['min']);\r\n        info = {...info, 'range': temp};\r\n      }\r\n      if(pg['databaseMaxDate']){\r\n          Date.prototype.addDays = function(days) {\r\n          var date = new Date(this.valueOf());\r\n          date.setDate(date.getDate() + days);\r\n          return date;\r\n      }\r\n        let temp = graphInfo['range'];\r\n        temp[0]['endDate'] = new Date(pg['databaseMaxDate'][0]['max']).addDays(1);\r\n        info = {...info, 'range':  temp};\r\n      }\r\n    }\r\n    \r\n    setgraphInfo({ ...graphInfo, ...info });\r\n     \r\n  }, [pg]);\r\n  \r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n    const {model,\r\n    table,\r\n    testType,\r\n    lowerSN,\r\n    upperSN} = graphInfo\r\n    const startDate = formatDate(graphInfo['range'][0]['startDate']);\r\n    const endDate = formatDate(graphInfo['range'][0]['endDate']);\r\n    const tableName = model + \"-\" + table\r\n    let testTypeString = \"\"\r\n    if(testType.length === 1){\r\n      testTypeString = \"AND test_type = '\"+testType[0]+\"'\"\r\n    }else{\r\n      testTypeString = \"AND (test_type = '\"+testType[0]+\"'\"\r\n      for(let i=1; i<testType.length; i++){\r\n        testTypeString += \" OR test_type = '\"+ testType[i]+\"'\"\r\n      }\r\n      testTypeString += \")\"\r\n    }\r\n\r\n    await fetchPgStart({title:tableName,\r\n    query:`SELECT * FROM \"${table}\" WHERE test_date >= '${startDate}' AND test_date <= '${endDate}'\r\n    AND serial_number >= '${lowerSN}' AND serial_number <= '${upperSN}' \r\n    ${testTypeString} ORDER BY reading`,\r\n    database: model})\r\n    \r\n    setUserGraph({\r\n      composed: {...userGraph.composed,all:[...userGraph.composed.all,tableName]},\r\n      pie: userGraph.pie,\r\n      versus: userGraph.versus\r\n    })\r\n    \r\n  };\r\n\r\n\r\n  const handleChange = async(event) => {\r\n    const { name, value } = event.target? event.target:event;\r\n    setgraphInfo({ ...graphInfo, [name]: value });\r\n    switch(name){\r\n      case 'model':\r\n        setgraphInfo({\r\n          model: value,\r\n          table: '',\r\n          testType: [],\r\n          lowerSN: '',\r\n          upperSN: '',\r\n          range:[{\r\n            startDate: '',\r\n            endDate: '',\r\n            key: 'selection'\r\n          }]\r\n        })\r\n        break\r\n        \r\n      case 'table':\r\n        await fetchPgStart({title:'databaseTestType', query:`SELECT DISTINCT (test_type) FROM \"${value}\"`, database: graphInfo['model']});\r\n        await fetchPgStart({title:'databaseMinSN', query:`SELECT MIN (serial_number) FROM \"${value}\"`, database: graphInfo['model']});\r\n        await fetchPgStart({title:'databaseMaxSN', query:`SELECT MAX (serial_number) FROM \"${value}\"`, database: graphInfo['model']});\r\n        await fetchPgStart({title:'databaseMinDate', query:`SELECT MIN (test_date) FROM \"${value}\"`, database: graphInfo['model']});\r\n        await fetchPgStart({title:'databaseMaxDate', query:`SELECT MAX (test_date) FROM \"${value}\"`, database: graphInfo['model']});\r\n\r\n        break;\r\n        default:\r\n    }\r\n\r\n  };\r\n\r\n  const handleGraph = (event) =>{\r\n\r\n    event.preventDefault()\r\n    let raw = {};\r\n    let unit ;\r\n    for(let table of userGraph.composed.selected){\r\n      unit = pg[`${table.slice(0,6)}_databaseSensor`].find(el=>el['sensor_name'] === table.slice(7))['unit']\r\n      raw[`${table} (${unit})`] = pg[table].map((el)=>({reading:el['reading'],serial_number:el['serial_number']}))\r\n    }\r\n\r\n    let graphData = convertGraphDataForComposed(raw,userGraph.composed['percision']);\r\n    if(compareUnit(Object.keys(raw))){\r\n      setUserGraph({\r\n        composed: {...userGraph.composed,graphData:graphData.processeData,isSameUnit:true,serialNumber:graphData.serialNumber,average:graphData.average},\r\n        pie: userGraph.pie,\r\n        versus: userGraph.versus\r\n      })\r\n    }else{\r\n      setUserGraph({\r\n        composed: {...userGraph.composed,isSameUnit:false},\r\n        pie: userGraph.pie,\r\n        versus: userGraph.versus\r\n      })\r\n    }\r\n    \r\n  }\r\n \r\n  \r\n  return (\r\n    <ComposedChartPageContainer>\r\n      <Title> COMPOSED CHART</Title>\r\n      <Description>\r\n        Composed chart excels at comparing the sensors that has the same unit, and see how the readings are distributed.\r\n      </Description>\r\n      <FormContainer onSubmit={handleSubmit}>\r\n        { pg['databaseModel']?\r\n          <FormSelect\r\n          label='Model'\r\n          placeholder=\"\"\r\n          options={pg['databaseModel'].map((el)=>({value:el['datname'],label:el['datname']}))}\r\n          onChange={(el)=>handleChange({...el,name:'model'})}\r\n          required\r\n          />\r\n          :\r\n          <Spinner/>\r\n        }\r\n        {\r\n        graphInfo['model']?\r\n          <div>\r\n            {\r\n                pg[`${graphInfo['model']}_databaseSensor`]?\r\n                <FormSelect\r\n                label='Sensor'\r\n                placeholder=\"\"\r\n                value={{value:graphInfo['table'],label:graphInfo['table']}}\r\n                options={pg[`${graphInfo['model']}_databaseSensor`].map((el)=>({value:el['sensor_name'],label:el['sensor_name']}))}\r\n                onChange={(el)=>handleChange({...el,name:'table'})}\r\n                required\r\n                />\r\n              :\r\n              <Spinner/>\r\n            }\r\n            \r\n            {\r\n              graphInfo['testType']&&graphInfo['lowerSN']&&graphInfo['upperSN']&&graphInfo['range'][0]['startDate'] && graphInfo['range'][0]['endDate']?\r\n                <div>\r\n                  <FormSelect\r\n                  label='Test Type'\r\n                  placeholder=\"Select Test Type\"\r\n                  isMulti\r\n                  name=\"testType\"\r\n                  value={graphInfo['testType'].map((el)=>({value:el,label:el}))}\r\n                  options={pg['databaseTestType'].map((el)=>({value:el['test_type'],label:el['test_type']}))}\r\n                  onChange={(el)=>(el? handleChange({value:el.map(el=>el.value),name:'testType'}): handleChange({value:[],name:'testType'}))}\r\n                  required\r\n                  />\r\n                  <FormInput\r\n                    type='text'\r\n                    name='lowerSN'\r\n                    value={graphInfo.lowerSN}\r\n                    onChange={handleChange}\r\n                    label='Lower Serial Number'\r\n                  />\r\n\r\n                  <FormInput\r\n                  type='text'\r\n                  name='upperSN'\r\n                  value={graphInfo.upperSN}\r\n                  onChange={handleChange}\r\n                  label='Upper Serial Number'\r\n                  />\r\n                  <DateRangePicker\r\n                  onChange={item => setgraphInfo({ ...graphInfo, range: [item.selection] })}\r\n                  showSelectionPreview={true}\r\n                  moveRangeOnFirstSelection={false}\r\n                  months={2}\r\n                  ranges={graphInfo['range']}\r\n                  direction=\"horizontal\"\r\n                  />\r\n              \r\n                </div>\r\n              :\r\n              graphInfo['table']?\r\n              <Spinner/>\r\n              :\r\n              <React.Fragment/>\r\n            }\r\n            \r\n          </div>\r\n          :\r\n          <div/>    \r\n          }\r\n      \r\n        {\r\n          graphInfo['table']?\r\n            !isFetching?\r\n            <CustomButton type='submit'> Add to Graph </CustomButton>\r\n            :\r\n            <Spinner/>\r\n          :\r\n          <div/>\r\n        }\r\n\r\n      </FormContainer>\r\n\r\n      \r\n      {\r\n        userGraph.composed['all'].length?\r\n        <FormContainer onSubmit={handleGraph}>\r\n          <FormSelect\r\n                  label='User Tables'\r\n                  placeholder=\"Select Tables\"\r\n                  isMulti\r\n                  name=\"userTable\"\r\n                  value={userGraph.composed.selected.map((el)=>({value:el,label:el}))}\r\n                  options={userGraph.composed.all.map((el)=>({value:el,label:el}))}\r\n                  onChange={(el)=>(el?setUserGraph({\r\n                    composed: {...userGraph.composed,selected:el.map(el=>el.value)},\r\n                    pie: userGraph.pie,\r\n                    versus: userGraph.versus\r\n                  }):\r\n                  setUserGraph({\r\n                    composed: {...userGraph.composed,selected:[]},\r\n                    pie: userGraph.pie,\r\n                    versus: userGraph.versus\r\n                  })\r\n                  )}\r\n                  required\r\n                  />\r\n          <FormSelect\r\n                  label='Percision'\r\n                  placeholder=\"\"\r\n                  value={{value:userGraph.composed['percision'],label:userGraph.composed['percision']}}\r\n                  options={[...new Array(10).keys()].map(el=>({value:el+1,label:el+1}))}\r\n                  onChange={(el)=>(setUserGraph({\r\n                    composed: {...userGraph.composed,percision:el.value},\r\n                    pie: userGraph.pie,\r\n                    versus: userGraph.versus\r\n                  })\r\n                  )}\r\n                  required\r\n                  />\r\n          <FormSelect\r\n                  label='graphType'\r\n                  placeholder=\"\"\r\n                  value={{value:userGraph.composed['type'],label:userGraph.composed['type']}}\r\n                  options={graphType.map(el=>({value:el,label:el}))}\r\n                  onChange={(el)=>(setUserGraph({\r\n                    composed: {...userGraph.composed,type:el.value},\r\n                    pie: userGraph.pie,\r\n                    versus: userGraph.versus\r\n                  })\r\n                  )}\r\n                  required\r\n                  />\r\n          {\r\n            userGraph.composed.selected.length && ! isFetching?\r\n            <CustomButton>Graph Selected</CustomButton>\r\n            :\r\n            <div/>\r\n          }\r\n          {\r\n            userGraph.composed.isSameUnit?\r\n            <div/>\r\n            :\r\n            <Warning>Please make sure the units are the same</Warning>\r\n          }\r\n        </FormContainer>\r\n        \r\n        :\r\n        <div/>\r\n      }\r\n      {\r\n        userGraph.composed['graphData'] && userGraph.composed['graphData'].length?\r\n        <ComposedChartComponent data={ userGraph.composed['graphData']} serialNumber={ userGraph.composed['serialNumber'] } average={ userGraph.composed['average'] } type= {userGraph.composed['type']}/>\r\n        :\r\n        <div/>\r\n      }\r\n      \r\n    </ComposedChartPageContainer>\r\n    \r\n  );\r\n}\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  pg: selectPg,\r\n  isFetching: selectIsPgFetching,\r\n  userGraph: selectUserGraph,\r\n  sql: selectPgSql\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchPgStart: (info) => dispatch(fetchPgStart(info)),\r\n  setUserGraph: (userGraph) => dispatch(setUserGraph(userGraph))\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ComposedChartPage);\r\n"],"sourceRoot":""}