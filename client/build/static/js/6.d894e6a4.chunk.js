(this["webpackJsonpcrwn-clothing"]=this["webpackJsonpcrwn-clothing"]||[]).push([[6],{123:function(e,n,t){"use strict";t.d(n,"a",(function(){return j})),t.d(n,"b",(function(){return x}));var r=t(117),a=t(0),o=t.n(a),c=t(11),l=t(12),u=t(160);function i(){var e=Object(c.a)(["\n  color: ",";\n  font-size: 16px;\n  font-weight: normal;\n  pointer-events: none;\n  left: 5px;\n  top: 10px;\n  transition: 300ms ease all;\n\n"]);return i=function(){return e},e}function s(){var e=Object(c.a)(["\n  color: ",";\n  font-size: 16px;\n  font-weight: normal;\n  position: absolute;\n  pointer-events: none;\n  left: 5px;\n  top: 10px;\n  transition: 300ms ease all;\n\n  &.shrink {\n    ","\n  }\n"]);return s=function(){return e},e}function p(){var e=Object(c.a)(["\n  background: none;\n  background-color: white;\n  color: ",";\n  font-size: 18px;\n  padding: 10px 10px 10px 5px;\n  display: block;\n  width: 100%;\n  border: none;\n  border-radius: 0;\n  border-bottom: 1px solid ",";\n\n  &:focus {\n    outline: none;\n  }\n\n  &:focus ~ label {\n    ","\n  }\n"]);return p=function(){return e},e}function f(){var e=Object(c.a)(["\n  background: none;\n  background-color: white;\n  color: ",";\n  font-size: 18px;\n  padding: 10px 10px 10px 5px;\n  display: block;\n  width: 100%;\n  border: none;\n  border-radius: 0;\n  min-width: 200px;\n"]);return f=function(){return e},e}function d(){var e=Object(c.a)(["\n  position: relative;\n  margin: 45px 0 0 0;\n\n  input[type='password'] {\n    letter-spacing: 0.3em;\n  }\n"]);return d=function(){return e},e}function b(){var e=Object(c.a)(["\n  top: -14px;\n  font-size: 12px;\n  color: ",";\n"]);return b=function(){return e},e}var m=Object(l.b)(b(),"black"),v=l.c.div(d()),h=Object(l.c)(u.a)(f(),"grey"),y=l.c.input(p(),"grey","grey",m),g=l.c.label(s(),"grey",m),O=l.c.label(i(),"grey"),j=function(e){var n=e.handleChange,t=e.label,a=Object(r.a)(e,["handleChange","label"]);return o.a.createElement(v,null,o.a.createElement(y,Object.assign({onChange:n},a)),t?o.a.createElement(g,{className:a.value.length?"shrink":""},t):null)},x=function(e){var n=e.handleChange,t=e.label,a=Object(r.a)(e,["handleChange","label"]);return o.a.createElement(v,null,t?o.a.createElement(O,null,t):null,o.a.createElement(h,Object.assign({onChange:n},a)))}},124:function(e,n,t){"use strict";var r=t(117),a=t(0),o=t.n(a),c=t(11),l=t(12);function u(){var e=Object(c.a)(["\n  min-width: 165px;\n  width: auto;\n  height: 50px;\n  letter-spacing: 0.5px;\n  line-height: 50px;\n  padding: 0 35px 0 35px;\n  font-size: 15px;\n  text-transform: uppercase;\n  font-family: 'Open Sans Condensed';\n  font-weight: bolder;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n\n  ","\n"]);return u=function(){return e},e}function i(){var e=Object(c.a)(["\n  background-color: #4285f4;\n  color: white;\n\n  &:hover {\n    background-color: #357ae8;\n    border: none;\n  }\n"]);return i=function(){return e},e}function s(){var e=Object(c.a)(["\n  background-color: white;\n  color: black;\n  border: 1px solid black;\n\n  &:hover {\n    background-color: black;\n    color: white;\n    border: none;\n  }\n"]);return s=function(){return e},e}function p(){var e=Object(c.a)(["\n  background-color: black;\n  color: white;\n  border: none;\n\n  &:hover {\n    background-color: white;\n    color: black;\n    border: 1px solid black;\n  }\n"]);return p=function(){return e},e}var f=Object(l.b)(p()),d=Object(l.b)(s()),b=Object(l.b)(i()),m=l.c.button(u(),(function(e){return e.isGoogleSignIn?b:e.inverted?d:f}));n.a=function(e){var n=e.children,t=Object(r.a)(e,["children"]);return o.a.createElement(m,t,n)}},127:function(e,n,t){"use strict";t.d(n,"e",(function(){return l})),t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return i})),t.d(n,"d",(function(){return s})),t.d(n,"a",(function(){return p}));var r=t(132),a=t(122),o=t(492),c=function(e,n,t){var r=t.colorStart,a=t.colorEnd;return t.useEndAsStart?a-e*n:r+e*n},l=function(e){for(var n=function(e,n,t){var r,a,o=t.colorStart,l=(t.colorEnd-o)/e,u=[];for(r=0;r<e;r++)a=c(r,l,t),u.push(n(a));return u}(e.length,o.a,{colorStart:0,colorEnd:1,useEndAsStart:!1}),t=[],r=0;r<n.length;r++)t.push({id:r,name:e[r],color:n[r]});return t},u=function(e,n){var t,r,o,c=[],l=[],u=0,i={},s={},p={};for(var f in e)l=[].concat(Object(a.a)(l),Object(a.a)(e[f].map((function(e){return e.reading})))),s[f]=0;l.sort((function(e,n){return e-n})),t=l[0];for(var d=1,b=(r=l[l.length-1])-t,m=0;m<5&&d>b;m++)d/=10,u++;for(var v in u++,o=parseFloat(parseFloat((l[l.length-1]-l[0])/n).toFixed(u)),e)p[v]=(e[v].reduce((function(e,n){return e+n.reading}),0)/e[v].length).toFixed(u);for(;t<=r;){var h={};for(var y in h.name="".concat(t.toFixed(u),"-").concat((t+o).toFixed(u)),e){i[y+"-"+h.name]=[],h[y]=0;for(var g=0;g<e[y].length;g++)e[y][g].reading>=t&&e[y][g].reading<=t+o&&(i[y+"-"+h.name].push(e[y][g].serial_number),h[y]++,s[y]++)}c.push(h),t+=o}for(var O=0,j=c;O<j.length;O++){var x=j[O];for(var E in s)x[E]=(x[E]/s[E]*100).toFixed(2)}return{processeData:c,serialNumber:i,average:p}},i=function(e,n){var t,o,c,l=[],u=[],i=0,s={},p={},f={};for(var d in e)u=[].concat(Object(a.a)(u),Object(a.a)(e[d].map((function(e){return e.reading})))),p[d]=0;u.sort((function(e,n){return e-n})),t=u[0];for(var b=1,m=(o=u[u.length-1])-t,v=0;v<5&&b>m;v++)b/=10,i++;for(var h in i++,c=parseFloat(parseFloat((u[u.length-1]-u[0])/n).toFixed(i)),e)f[h]=(e[h].reduce((function(e,n){return e+n.reading}),0)/e[h].length).toFixed(i);for(;t<=o;){var y={};for(var g in y.name="".concat(t.toFixed(i),"-").concat((t+c).toFixed(i)),e){s[g+"-"+y.name]=[],y[g]=0;for(var O=0;O<e[g].length;O++)e[g][O].reading>=t&&e[g][O].reading<=t+c&&(s[g+"-"+y.name].push(e[g][O].serial_number),y[g]++,p[g]++)}l.push(y),t+=c}var j,x=Object.keys(l[0]).filter((function(e){return"name"!==e})),E={},k=Object(r.a)(x);try{for(k.s();!(j=k.n()).done;){E[j.value]=[]}}catch(F){k.e(F)}finally{k.f()}for(var S=0,w=l;S<w.length;S++){var D,N=w[S],C=Object(r.a)(x);try{for(C.s();!(D=C.n()).done;){var _=D.value;E[_].push({name:N.name,value:N[_]})}}catch(F){C.e(F)}finally{C.f()}}return{processeData:E,serialNumber:s,average:f}},s=function(e,n){var t={};for(var a in e){for(var o=e[a].map((function(e){return e.X_reading})).sort((function(e,n){return e-n})),c=e[a].map((function(e){return e.Y_reading})).sort((function(e,n){return e-n})),l=o[0],u=o[o.length-1],i=c[0],s=c[c.length-1],p=(u-l)/n,f=(s-i)/n,d=0,b=0,m=[],v=[],h=1,y=u-l,g=0;g<5&&h>y;g++)h/=10,d++;d++,h=1,y=s-i;for(var O=0;O<5&&h>y;O++)h/=10,b++;for(b++;l<=u;)m.push(l),v.push(i),l+=p,i+=f;for(var j=[],x=0;x<m.length-1;x++){var E={};E.name="".concat(m[x].toFixed(d),"-").concat(m[x+1].toFixed(d));for(var k=0;k<v.length-1;k++){var S,w=0,D=Object(r.a)(e[a]);try{for(D.s();!(S=D.n()).done;){var N=S.value;N.X_reading>=m[x]&&N.X_reading<m[x+1]&&N.Y_reading>=v[k]&&N.Y_reading<v[k+1]&&w++}}catch(M){D.e(M)}finally{D.f()}E["".concat(v[k].toFixed(b),"-").concat(v[k+1].toFixed(b))]=w}j.push(E)}t[a]=j}for(var C in t){var _,F=Object(r.a)(t[C]);try{var T=function(){var e,n=_.value,t=Object.keys(n).filter((function(e){return"name"!==e})).reduce((function(e,t){return e+n[t]}),0),a=Object(r.a)(Object.keys(n).filter((function(e){return"name"!==e})));try{for(a.s();!(e=a.n()).done;){var o=e.value;n[o]=(n[o]/t*100).toFixed(1)}}catch(M){a.e(M)}finally{a.f()}};for(F.s();!(_=F.n()).done;)T()}catch(M){F.e(M)}finally{F.f()}}return t},p=function(e){for(var n=e.map((function(e){return e.slice(e.lastIndexOf("("))})),t=1;t<n.length;t++)if(n[t-1]!==n[t])return!1;return!0}},142:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(44),a=function(e){return{type:r.a.SET_USER_GRAPH,payload:e}}},143:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var r=function(e){var n=""+(e.getMonth()+1),t=""+e.getDate(),r=e.getFullYear();return n.length<2&&(n="0"+n),t.length<2&&(t="0"+t),[r,n,t].join("-")}},194:function(e,n,t){"use strict";var r=t(6);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=t(10);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n){return(i=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,n){return!n||"object"!==p(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function d(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=s(e);if(n){var a=s(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return f(this,t)}}var b=t(0),m=t.n(b),v=t(109),h=t.n(v),y=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&i(e,n)}(p,e);var n,t,c,s=d(p);function p(e){var n;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,p),(n=s.call(this,e)).handleChange=function(e){var t=n.props,r=t.disabled,a=t.onChange;r||("checked"in n.props||n.setState({checked:e.target.checked}),a&&a({target:l(l({},n.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},n.saveInput=function(e){n.input=e};var t="checked"in e?e.checked:e.defaultChecked;return n.state={checked:t},n}return n=p,c=[{key:"getDerivedStateFromProps",value:function(e,n){return"checked"in e?l(l({},n),{},{checked:e.checked}):null}}],(t=[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls,c=n.className,l=n.style,u=n.name,i=n.id,s=n.type,p=n.disabled,f=n.readOnly,d=n.tabIndex,b=n.onClick,v=n.onFocus,y=n.onBlur,g=n.onKeyDown,O=n.onKeyPress,j=n.onKeyUp,x=n.autoFocus,E=n.value,k=n.required,S=function(e,n){if(null==e)return{};var t,r,a=Object(o.a)(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),w=Object.keys(S).reduce((function(e,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(e[n]=S[n]),e}),{}),D=this.state.checked,N=h()(t,c,(a(e={},"".concat(t,"-checked"),D),a(e,"".concat(t,"-disabled"),p),e));return m.a.createElement("span",{className:N,style:l},m.a.createElement("input",Object(r.a)({name:u,id:i,type:s,required:k,readOnly:f,disabled:p,tabIndex:d,className:"".concat(t,"-input"),checked:!!D,onClick:b,onFocus:v,onBlur:y,onKeyUp:j,onKeyDown:g,onKeyPress:O,onChange:this.handleChange,autoFocus:x,ref:this.saveInput,value:E},w)),m.a.createElement("span",{className:"".concat(t,"-inner")}))}}])&&u(n.prototype,t),c&&u(n,c),p}(b.Component);y.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};n.a=y},195:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(11),c=t(12);function l(){var e=Object(o.a)(["\n color:",";\n"]);return l=function(){return e},e}function u(){var e=Object(o.a)(["\n display:flex;\n flex-direction:column;\n justify-content:center;\n align-items:center;\n"]);return u=function(){return e},e}function i(){var e=Object(o.a)(["\n display: flex;\n flex-direction: column;\n border-left: solid grey 3px;\n padding:20px;\n"]);return i=function(){return e},e}function s(){var e=Object(o.a)(["\n  overflow-y: scroll;\n  border: 1px solid black;\n  height: 100px;\n"]);return s=function(){return e},e}var p=c.c.div(s()),f=c.c.div(i()),d=c.c.div(u()),b=c.c.span(l(),(function(e){return e.color}));n.a=function(e){var n=e.title,t=e.serialNumber,r=e.color,o=(n=n.split("-"))[0],c=n.slice(1,n.length-2).join("-"),l=n[n.length-2]+"-"+n[n.length-1];return c=c.slice(0,c.indexOf("(")),a.a.createElement(f,null,a.a.createElement(d,null,a.a.createElement(b,{color:r},o),a.a.createElement(b,{color:r},c),a.a.createElement(b,{color:r},l)),a.a.createElement(p,null,t.map((function(e,n){return a.a.createElement("div",{key:n},e)}))))}},495:function(e,n,t){"use strict";t.r(n);var r=t(29),a=t(122),o=t(7),c=t(132),l=t(3),u=t.n(l),i=t(30),s=t(131),p=t(0),f=t.n(p),d=t(193),b=t(11),m=t(12);function v(){var e=Object(b.a)(["\n color:",";\n"]);return v=function(){return e},e}function h(){var e=Object(b.a)(["\n display: flex;\n flex-direction: row;\n gap: 12px;\n padding: 20px;\n overflow-x: scroll;\n width: 40%;\n"]);return h=function(){return e},e}function y(){var e=Object(b.a)(["\n display: flex;\n flex-direction: row;\n align-items: center;\n justify-content: center;\n gap: 50px;\n"]);return y=function(){return e},e}function g(){var e=Object(b.a)(["\n display: flex;\n flex-direction: column;\n justify-content: center;\n align-items: center;\n"]);return g=function(){return e},e}function O(){var e=Object(b.a)(["\n display: flex;\n flex-direction: row;\n gap: 30px;\n margin-bottom: 30px;\n"]);return O=function(){return e},e}function j(){var e=Object(b.a)(["\n display: flex;\n flex-direction: row;\n"]);return j=function(){return e},e}function x(){var e=Object(b.a)(["\n  color: black;\n  padding: 1px 15px;\n  border-bottom: 5px solid red;\n  width: 100%;\n  margin-bottom: 50px;\n"]);return x=function(){return e},e}function E(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 10px 20px;\n  align-items:center;\n  border-radius: 25px;\n"]);return E=function(){return e},e}var k=m.c.div(E()),S=m.c.h1(x()),w=m.c.div(j()),D=m.c.div(O()),N=m.c.div(g()),C=m.c.div(y()),_=m.c.div(h()),F=m.c.span(v(),(function(e){return e.color})),T=t(127),M=t(195),P=t(194),q=function(e){var n=e.data,t=e.serialNumber,r=e.average,o=e.type,c=Object.keys(n[0]).filter((function(e){return"name"!==e})),l=Object(T.e)(c),u=Object(p.useState)(!1),i=Object(s.a)(u,2),b=i[0],m=i[1];for(var v in t)0===t[v].length&&delete t[v];return f.a.createElement(k,null,f.a.createElement(S,null,o," Chart"),f.a.createElement(C,null,f.a.createElement(N,null,f.a.createElement(d.f,{width:1100,height:400,data:n,margin:{top:20,right:20,bottom:20,left:20}},f.a.createElement(d.d,{stroke:"#f5f5f5"}),f.a.createElement(d.n,{dataKey:"name"}),f.a.createElement(d.o,null),f.a.createElement(d.m,null),f.a.createElement(d.g,null),l.map((function(e){switch(o){case"Area":return f.a.createElement(d.a,{key:e.id,type:"monotone",dataKey:e.name,fill:e.color,stroke:e.color,unit:"%"});case"Bar":return f.a.createElement(d.b,{key:e.id,type:"monotone",dataKey:e.name,fill:e.color,stroke:e.color,unit:"%"});case"Line":return f.a.createElement(d.h,{key:e.id,type:"monotone",dataKey:e.name,fill:e.color,stroke:e.color,unit:"%"});case"Scatter":return f.a.createElement(d.k,{key:e.id,type:"monotone",dataKey:e.name,fill:e.color,stroke:e.color,unit:"%"});default:return f.a.createElement("div",null)}}))),f.a.createElement(D,null,l.map((function(e){return f.a.createElement(F,{color:e.color,key:e.id}," ",e.name.slice(0,e.name.indexOf("("))," Average: ",r[e.name]," ",e.name.split(" ")[e.name.split(" ").length-1])}))),f.a.createElement(w,null,f.a.createElement("span",null,"Reveal SN"),f.a.createElement(P.a,{onChange:function(e){return m(e.target.checked)}}))),b?f.a.createElement(_,null,Object.keys(t).map((function(e,n){return f.a.createElement(M.a,{key:n,title:e,serialNumber:Object(a.a)(new Set(t[e])),color:l.find((function(n){return n.name===e.split("-").slice(0,e.split("-").length-2).join("-")})).color})}))):f.a.createElement(f.a.Fragment,null)))};function R(){var e=Object(b.a)(["\n  color:gray;\n  font-size:35px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 10px 20px;\n  align-items:center;\n  border-radius: 25px;\n  gap: 12px;\n"]);return R=function(){return e},e}function A(){var e=Object(b.a)(["\n  color:gray;\n  font-size:50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items:center;\n"]);return A=function(){return e},e}function K(){var e=Object(b.a)(["\n  color: red;\n"]);return K=function(){return e},e}function I(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return I=function(){return e},e}function U(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 10px 20px;\n  align-items:center;\n  border-radius: 25px;\n  gap: 12px;\n"]);return U=function(){return e},e}var L=m.c.form(U()),z=m.c.div(I()),G=m.c.div(K()),B=m.c.h1(A()),X=m.c.p(R()),Y=t(123),H=t(124),J=t(36),W=t(142),Q=t(46),V=t(45),Z=t(25),$=t(18),ee=t(47),ne=(t(190),t(191),t(192)),te=t(143),re=t(20),ae=Object($.b)({pg:Q.b,isFetching:Q.a,userGraph:V.a,sql:Q.c});n.default=Object(Z.b)(ae,(function(e){return{fetchPgStart:function(n){return e(Object(J.b)(n))},setUserGraph:function(n){return e(Object(W.a)(n))}}}))((function(e){var n=e.fetchPgStart,t=e.pg,l=e.isFetching,d=e.setUserGraph,b=e.userGraph,m=(e.selectPgSql,Object(p.useState)({model:"",table:"",testType:[],lowerSN:"",upperSN:"",range:[{startDate:"",endDate:"",key:"selection"}]})),v=Object(s.a)(m,2),h=v[0],y=v[1];Object(p.useEffect)((function(){(function(){var e=Object(i.a)(u.a.mark((function e(){var t,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({title:"databaseModel",query:"SELECT datname FROM pg_database WHERE datname != 'template1' AND datname != 'template0' AND datname != 'postgres'",database:""});case 2:if(Object.keys(b.composed.graphData).length){e.next=18;break}return e.next=5,Object(re.d)();case 5:return t=e.sent,e.next=8,Object(re.f)(t);case 8:if(!(r=e.sent)||Array.isArray(r)){e.next=18;break}e.t0=u.a.keys(r.sql);case 11:if((e.t1=e.t0()).done){e.next=17;break}return a=e.t1.value,e.next=15,n({title:r.sql[a].title,query:r.sql[a].query,database:r.sql[a].database});case 15:e.next=11;break;case 17:d({composed:r.composed,pie:b.pie,versus:b.versus});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(p.useEffect)((function(){var e=function(){var e=Object(i.a)(u.a.mark((function e(){var r,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(c.a)(t.databaseModel.map((function(e){return e.datname})).filter((function(e){return 6===e.length}))),e.prev=1,r.s();case 3:if((a=r.n()).done){e.next=9;break}return o=a.value,e.next=7,n({title:"".concat(o,"_databaseSensor"),query:'SELECT * FROM "sensor_to_unit"',database:o});case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}();t.databaseModel&&e()}),[t.databaseModel]),Object(p.useEffect)((function(){var e={};if(h.table){if(t.databaseTestType&&(e=Object(o.a)(Object(o.a)({},e),{},{testType:t.databaseTestType.map((function(e){return e.test_type}))})),t.databaseMinSN&&(e=Object(o.a)(Object(o.a)({},e),{},{lowerSN:t.databaseMinSN[0].min})),t.databaseMaxSN&&(e=Object(o.a)(Object(o.a)({},e),{},{upperSN:t.databaseMaxSN[0].max})),t.databaseMinDate){var n=h.range;n[0].startDate=new Date(t.databaseMinDate[0].min),e=Object(o.a)(Object(o.a)({},e),{},{range:n})}if(t.databaseMaxDate){Date.prototype.addDays=function(e){var n=new Date(this.valueOf());return n.setDate(n.getDate()+e),n};var r=h.range;r[0].endDate=new Date(t.databaseMaxDate[0].max).addDays(1),e=Object(o.a)(Object(o.a)({},e),{},{range:r})}}y(Object(o.a)(Object(o.a)({},h),e))}),[t]);var g=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,c,l,i,s,p,f,m,v,y;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=h.model,c=h.table,l=h.testType,i=h.lowerSN,s=h.upperSN,p=Object(te.a)(h.range[0].startDate),f=Object(te.a)(h.range[0].endDate),m=r+"-"+c,v="",1===l.length)v="AND test_type = '"+l[0]+"'";else{for(v="AND (test_type = '"+l[0]+"'",y=1;y<l.length;y++)v+=" OR test_type = '"+l[y]+"'";v+=")"}return e.next=9,n({title:m,query:'SELECT * FROM "'.concat(c,"\" WHERE test_date >= '").concat(p,"' AND test_date <= '").concat(f,"'\n    AND serial_number >= '").concat(i,"' AND serial_number <= '").concat(s,"' \n    ").concat(v," ORDER BY reading"),database:r});case 9:d({composed:Object(o.a)(Object(o.a)({},b.composed),{},{all:[].concat(Object(a.a)(b.composed.all),[m])}),pie:b.pie,versus:b.versus});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target?t.target:t,c=a.name,l=a.value,y(Object(o.a)(Object(o.a)({},h),{},Object(r.a)({},c,l))),e.t0=c,e.next="model"===e.t0?5:"table"===e.t0?7:18;break;case 5:return y({model:l,table:"",testType:[],lowerSN:"",upperSN:"",range:[{startDate:"",endDate:"",key:"selection"}]}),e.abrupt("break",18);case 7:return e.next=9,n({title:"databaseTestType",query:'SELECT DISTINCT (test_type) FROM "'.concat(l,'"'),database:h.model});case 9:return e.next=11,n({title:"databaseMinSN",query:'SELECT MIN (serial_number) FROM "'.concat(l,'"'),database:h.model});case 11:return e.next=13,n({title:"databaseMaxSN",query:'SELECT MAX (serial_number) FROM "'.concat(l,'"'),database:h.model});case 13:return e.next=15,n({title:"databaseMinDate",query:'SELECT MIN (test_date) FROM "'.concat(l,'"'),database:h.model});case 15:return e.next=17,n({title:"databaseMaxDate",query:'SELECT MAX (test_date) FROM "'.concat(l,'"'),database:h.model});case 17:return e.abrupt("break",18);case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return f.a.createElement(z,null,f.a.createElement(B,null," COMPOSED CHART"),f.a.createElement(X,null,"Composed chart excels at comparing the sensors that has the same unit, and see how the readings are distributed."),f.a.createElement(L,{onSubmit:g},t.databaseModel?f.a.createElement(Y.b,{label:"Model",placeholder:"",options:t.databaseModel.map((function(e){return{value:e.datname,label:e.datname}})),onChange:function(e){return O(Object(o.a)(Object(o.a)({},e),{},{name:"model"}))},required:!0}):f.a.createElement(ee.a,null),h.model?f.a.createElement("div",null,t["".concat(h.model,"_databaseSensor")]?f.a.createElement(Y.b,{label:"Sensor",placeholder:"",value:{value:h.table,label:h.table},options:t["".concat(h.model,"_databaseSensor")].map((function(e){return{value:e.sensor_name,label:e.sensor_name}})),onChange:function(e){return O(Object(o.a)(Object(o.a)({},e),{},{name:"table"}))},required:!0}):f.a.createElement(ee.a,null),h.testType&&h.lowerSN&&h.upperSN&&h.range[0].startDate&&h.range[0].endDate?f.a.createElement("div",null,f.a.createElement(Y.b,{label:"Test Type",placeholder:"Select Test Type",isMulti:!0,name:"testType",value:h.testType.map((function(e){return{value:e,label:e}})),options:t.databaseTestType.map((function(e){return{value:e.test_type,label:e.test_type}})),onChange:function(e){return O(e?{value:e.map((function(e){return e.value})),name:"testType"}:{value:[],name:"testType"})},required:!0}),f.a.createElement(Y.a,{type:"text",name:"lowerSN",value:h.lowerSN,onChange:O,label:"Lower Serial Number"}),f.a.createElement(Y.a,{type:"text",name:"upperSN",value:h.upperSN,onChange:O,label:"Upper Serial Number"}),f.a.createElement(ne.DateRangePicker,{onChange:function(e){return y(Object(o.a)(Object(o.a)({},h),{},{range:[e.selection]}))},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:h.range,direction:"horizontal"})):h.table?f.a.createElement(ee.a,null):f.a.createElement(f.a.Fragment,null)):f.a.createElement("div",null),h.table?l?f.a.createElement(ee.a,null):f.a.createElement(H.a,{type:"submit"}," Add to Graph "):f.a.createElement("div",null)),b.composed.all.length?f.a.createElement(L,{onSubmit:function(e){e.preventDefault();var n,r,a={},l=Object(c.a)(b.composed.selected);try{var u=function(){var e=r.value;n=t["".concat(e.slice(0,6),"_databaseSensor")].find((function(n){return n.sensor_name===e.slice(7)})).unit,a["".concat(e," (").concat(n,")")]=t[e].map((function(e){return{reading:e.reading,serial_number:e.serial_number}}))};for(l.s();!(r=l.n()).done;)u()}catch(s){l.e(s)}finally{l.f()}var i=Object(T.b)(a,b.composed.percision);Object(T.a)(Object.keys(a))?d({composed:Object(o.a)(Object(o.a)({},b.composed),{},{graphData:i.processeData,isSameUnit:!0,serialNumber:i.serialNumber,average:i.average}),pie:b.pie,versus:b.versus}):d({composed:Object(o.a)(Object(o.a)({},b.composed),{},{isSameUnit:!1}),pie:b.pie,versus:b.versus})}},f.a.createElement(Y.b,{label:"User Tables",placeholder:"Select Tables",isMulti:!0,name:"userTable",value:b.composed.selected.map((function(e){return{value:e,label:e}})),options:b.composed.all.map((function(e){return{value:e,label:e}})),onChange:function(e){return d(e?{composed:Object(o.a)(Object(o.a)({},b.composed),{},{selected:e.map((function(e){return e.value}))}),pie:b.pie,versus:b.versus}:{composed:Object(o.a)(Object(o.a)({},b.composed),{},{selected:[]}),pie:b.pie,versus:b.versus})},required:!0}),f.a.createElement(Y.b,{label:"Percision",placeholder:"",value:{value:b.composed.percision,label:b.composed.percision},options:Object(a.a)(new Array(10).keys()).map((function(e){return{value:e+1,label:e+1}})),onChange:function(e){return d({composed:Object(o.a)(Object(o.a)({},b.composed),{},{percision:e.value}),pie:b.pie,versus:b.versus})},required:!0}),f.a.createElement(Y.b,{label:"graphType",placeholder:"",value:{value:b.composed.type,label:b.composed.type},options:["Area","Bar","Line","Scatter"].map((function(e){return{value:e,label:e}})),onChange:function(e){return d({composed:Object(o.a)(Object(o.a)({},b.composed),{},{type:e.value}),pie:b.pie,versus:b.versus})},required:!0}),b.composed.selected.length&&!l?f.a.createElement(H.a,null,"Graph Selected"):f.a.createElement("div",null),b.composed.isSameUnit?f.a.createElement("div",null):f.a.createElement(G,null,"Please make sure the units are the same")):f.a.createElement("div",null),b.composed.graphData&&b.composed.graphData.length?f.a.createElement(q,{data:b.composed.graphData,serialNumber:b.composed.serialNumber,average:b.composed.average,type:b.composed.type}):f.a.createElement("div",null))}))}}]);
//# sourceMappingURL=6.d894e6a4.chunk.js.map